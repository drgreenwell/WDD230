const apiKey="94a116f2e94d3ee756b65e7657259c47",city="Cozumel",countryCode="MX",apiUrl=`https://api.openweathermap.org/data/2.5/weather?q=Cozumel,MX&appid=${apiKey}&units=metric`;async function fetchWeather(){try{let e=await fetch(apiUrl),t=await e.json();document.getElementById("current-temp").textContent=`${t.main.temp}\xb0C`,document.getElementById("current-humidity").textContent=`${t.main.humidity}%`,document.getElementById("current-weather-icon").setAttribute("src",`https://openweathermap.org/img/wn/${t.weather[0].icon}.png`);let a=t.main.temp_max,n=document.querySelector(".closeable-message");n.innerHTML=`Today's high temperature: ${a}\xb0C <span class="close-btn">‚ùå</span>`;let r=n.querySelector(".close-btn");r.addEventListener("click",function(){n.style.display="none"}),fetchNextDayForecast(t.coord.lat,t.coord.lon)}catch(o){console.error("Error fetching weather:",o)}}async function fetchNextDayForecast(e,t){let a=`https://api.openweathermap.org/data/2.5/forecast?lat=${e}&lon=${t}&appid=${apiKey}&units=metric`;try{let n=await fetch(a),r=await n.json();console.log("Forecast data:",r);let o=new Date,c=new Date(o);c.setDate(c.getDate()+1);let i=c.toISOString().split("T")[0],s=r.list.find(e=>e.dt_txt.includes(i));console.log("Forecast for next day:",s);let l=s.main.temp;console.log("Forecast temperature:",l),document.getElementById("next-day-forecast-temp").textContent=`${l}\xb0C`,document.getElementById("next-day-forecast-icon").setAttribute("src",`https://openweathermap.org/img/wn/${s.weather[0].icon}.png`)}catch(p){console.error("Error fetching next day forecast:",p)}}document.querySelector(".close-btn").addEventListener("click",function(){document.querySelector(".closeable-message").style.display="none"}),window.addEventListener("load",fetchWeather);